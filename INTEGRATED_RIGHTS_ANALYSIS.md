# –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∏–∫—Ä–æ-–∞–Ω–∞–ª–∏–∑ –ø—Ä–∞–≤ –≤ —á–∞–Ω–∫–∞—Ö

## –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–í–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–ª–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–∞–≤, –º—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ "–º–∏–∫—Ä–æ-–∞–Ω–∞–ª–∏–∑" –ø—Ä–∞–≤ –ø—Ä—è–º–æ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–∞–Ω–∫–æ–≤. –≠—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é AI —Ä–∞–±–æ—Ç—É.

## –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: 3 —á–µ—Ç–∫–∏—Ö —ç—Ç–∞–ø–∞

### –≠—Ç–∞–ø 1: "–†–∞–∑–±–æ—Ä–∫–∞ –Ω–∞ –¥–µ—Ç–∞–ª–∏" (–§—É–Ω–∫—Ü–∏—è processChunksInParallel)
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ë–µ—Ä–µ—Ç –≤–µ—Å—å –±–æ–ª—å—à–æ–π –¥–æ–≥–æ–≤–æ—Ä –∏ —Ä–∞–∑—Ä–µ–∑–∞–µ—Ç –µ–≥–æ –Ω–∞ 12 –º–∞–ª–µ–Ω—å–∫–∏—Ö, —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö "–∫—É—Å–∫–æ–≤" (—á–∞–Ω–∫–æ–≤).

**–ó–∞–¥–∞—á–∞ AI –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ (–≤–Ω—É—Ç—Ä–∏ analyzeChunk):**
1. **–û—Å–Ω–æ–≤–Ω–æ–π –∞–Ω–∞–ª–∏–∑:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∞–±–∑–∞—Ü—ã, –∏—â–µ—Ç —Ä–∏—Å–∫–∏, —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å —á–µ–∫-–ª–∏—Å—Ç–æ–º (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)
2. **"–ú–∏–∫—Ä–æ-–∞–Ω–∞–ª–∏–∑" –ø—Ä–∞–≤:** –ù–∞—Ö–æ–¥–∏—Ç –∏ –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∞ —Ç–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º –º–∞–ª–µ–Ω—å–∫–æ–º —á–∞–Ω–∫–µ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –Ω–æ–≤—ã–π –±–ª–æ–∫ `chunkRightsAnalysis`

**–†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞:** –ù–∞ –≤—ã—Ö–æ–¥–µ –º—ã –ø–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ –∏–∑ 12 –æ–±—ä–µ–∫—Ç–æ–≤ (chunkResults). –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `analysis` (–∞–Ω–∞–ª–∏–∑ –∞–±–∑–∞—Ü–µ–≤) 
- `chunkRightsAnalysis` (–∞–Ω–∞–ª–∏–∑ –ø—Ä–∞–≤ –≤ —ç—Ç–æ–º —á–∞–Ω–∫–µ)

–í—Å—è —Ç—è–∂–µ–ª–∞—è —Ä–∞–±–æ—Ç–∞ AI —É–∂–µ —Å–¥–µ–ª–∞–Ω–∞ –∑–¥–µ—Å—å.

### –≠—Ç–∞–ø 2: "–°–±–æ—Ä–∫–∞ –∏ –ø–æ–¥—Å—á–µ—Ç" (–§—É–Ω–∫—Ü–∏—è aggregateAndAnalyzeRights)
**–ì–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:** –í –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ `analyzeContractWithGemini`, —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `processChunksInParallel`.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü—Ä–æ—Å—Ç–∞—è, —á–∏—Å—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è (–±–µ–∑ AI) —Ñ—É–Ω–∫—Ü–∏—è:
1. –ü—Ä–æ—Ö–æ–¥–∏—Ç—Å—è —Ü–∏–∫–ª–æ–º –ø–æ –≤—Å–µ–º 12 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∏–∑ `chunkResults`
2. –°—É–º–º–∏—Ä—É–µ—Ç —Ü–∏—Ñ—Ä—ã: `buyerRightsCount` –∏–∑ –∫–∞–∂–¥–æ–≥–æ –∏–∑ 12 —á–∞–Ω–∫–æ–≤ –≤ `totalBuyerRights`
3. –°–æ–±–∏—Ä–∞–µ—Ç –¥–µ—Ç–∞–ª–∏: –≤—Å–µ `rightsDetails` –∏–∑ –∫–∞–∂–¥–æ–≥–æ –∏–∑ 12 —á–∞–Ω–∫–æ–≤ –≤ –æ–¥–∏–Ω –º–∞—Å—Å–∏–≤
4. –î–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥: –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ç–æ–≥–æ–≤—ã—Ö —Ü–∏—Ñ—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Å—Ç—É—é –ª–æ–≥–∏–∫—É –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–∞–ø–∞:** –ì–æ—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç `rightsImbalanceResult` —Å –∏—Ç–æ–≥–æ–≤—ã–º –∞–Ω–∞–ª–∏–∑–æ–º –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ –ø–æ –≤—Å–µ–º—É –¥–æ–≥–æ–≤–æ—Ä—É.

### –≠—Ç–∞–ø 3: "–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç" (–§—É–Ω–∫—Ü–∏—è performFinalStructuralAnalysis)
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–∞–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è, –≥–æ—Ç–æ–≤—ã–π `rightsImbalanceResult`) –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏—Ç–æ–≥–æ–≤—É—é —Å–≤–æ–¥–∫—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ –≤ analyzeChunk
–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è `chunkRightsAnalysis` –≤ JSON –æ—Ç–≤–µ—Ç:
```json
{
  "chunkId": "chunk_1",
  "analysis": [...],
  "chunkRightsAnalysis": {
    "buyerRightsCount": 2,
    "supplierRightsCount": 1,
    "rightsDetails": [
      "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å: –ø—Ä–∞–≤–æ —Ä–∞—Å—Ç–æ—Ä–≥–Ω—É—Ç—å –ø—Ä–∏ –ø—Ä–æ—Å—Ä–æ—á–∫–µ (–ø. p1)",
      "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å: –ø—Ä–∞–≤–æ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —Ç–æ–≤–∞—Ä–∞ (–ø. p2)", 
      "–ü–æ—Å—Ç–∞–≤—â–∏–∫: –ø—Ä–∞–≤–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É (–ø. p4)"
    ]
  }
}
```

### 2. –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è aggregateAndAnalyzeRights
```typescript
function aggregateAndAnalyzeRights(chunkResults: any[]): any {
  // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤—Å–µ—Ö —á–∞–Ω–∫–æ–≤
  let totalBuyerRights = 0;
  let totalSupplierRights = 0;
  const allRightsDetails: string[] = [];
  
  chunkResults.forEach((chunkResult, index) => {
    if (chunkResult && chunkResult.chunkRightsAnalysis) {
      totalBuyerRights += chunkResult.chunkRightsAnalysis.buyerRightsCount || 0;
      totalSupplierRights += chunkResult.chunkRightsAnalysis.supplierRightsCount || 0;
      allRightsDetails.push(...chunkResult.chunkRightsAnalysis.rightsDetails || []);
    }
  });
  
  // –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ (–±–µ–∑ AI)
  const rightsImbalance = [];
  if (imbalancePercentage > 50) {
    rightsImbalance.push({
      id: "imbalance_1",
      type: "general_rights",
      description: `–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏—Å–±–∞–ª–∞–Ω—Å –ø—Ä–∞–≤...`,
      severity: imbalancePercentage > 75 ? "high" : "medium"
    });
  }
  
  return { rightsImbalance, overallConclusion, totalBuyerRights, totalSupplierRights };
}
```

### 3. –ó–∞–º–µ–Ω–∞ —ç—Ç–∞–ø–∞ 5 –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
```typescript
// –≠—Ç–∞–ø 5: –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ –ø—Ä–∞–≤ (–Ω–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥)
onProgress("–≠—Ç–∞–ø 5/7: –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ –ø—Ä–∞–≤...");

try {
  // –í—ã–∑–æ–≤ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ AI
  rightsImbalanceResult = aggregateAndAnalyzeRights(chunkResults);
} catch (error) {
  rightsImbalanceResult = { rightsImbalance: [], overallConclusion: "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –ø—Ä–∞–≤ –∏–∑ —á–∞–Ω–∫–æ–≤." };
}
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

### üéØ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- **AI –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Å—Ç—É—é —Ä–∞–±–æ—Ç—É:** –¢–æ–ª—å–∫–æ –ø–æ–¥—Å—á–µ—Ç –ø—Ä–∞–≤ –≤ –º–∞–ª–µ–Ω—å–∫–∏—Ö —á–∞–Ω–∫–∞—Ö
- **–ö–æ–¥ –¥–µ–ª–∞–µ—Ç —Å–ª–æ–∂–Ω—É—é —Ä–∞–±–æ—Ç—É:** –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
- **–ù–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö AI –∑–∞–ø—Ä–æ—Å–æ–≤:** –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É

### ‚ö° **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- **–ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö API –≤—ã–∑–æ–≤–æ–≤:** –í—Å–µ –¥–µ–ª–∞–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ë—ã—Å—Ç—Ä–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è:** –ü—Ä–æ—Å—Ç—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –ú–∏–∫—Ä–æ-–∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –æ—Å–Ω–æ–≤–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º

### üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å**
- **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∞–Ω–∞–ª–∏–∑–∞:** –í—Å–µ –∞–Ω–∞–ª–∏–∑—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –≤ `analyzeChunk`
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:** AI –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∫–æ–¥ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –º–∏–∫—Ä–æ-–∞–Ω–∞–ª–∏–∑–æ–≤

### üõ°Ô∏è **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**
- **Graceful degradation:** –ï—Å–ª–∏ –æ–¥–∏–Ω —á–∞–Ω–∫ –Ω–µ –≤–µ—Ä–Ω–µ—Ç –ø—Ä–∞–≤–∞, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- **–ü—Ä–æ—Å—Ç–∞—è –æ—Ç–ª–∞–¥–∫–∞:** –õ–µ–≥–∫–æ –ø—Ä–æ—Å–ª–µ–¥–∏—Ç—å, –∫–∞–∫–æ–π —á–∞–Ω–∫ –¥–∞–ª –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∞
- **Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã:** –í–æ–∑–≤—Ä–∞—Ç –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–∏ –ª—é–±—ã—Ö –æ—à–∏–±–∫–∞—Ö

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ê—Å–ø–µ–∫—Ç | –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ "–ò–∑–≤–ª–µ–∫–∏-–∏-–ø–æ–º–µ—Ç—å" | –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ "–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π" |
|--------|-----------------------------------|--------------------------------|
| **AI –∑–∞–ø—Ä–æ—Å—ã** | +25 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ | 0 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –û—Ç–¥–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç 25 —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –ú–µ–¥–ª–µ–Ω–Ω–æ (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã) | –ë—ã—Å—Ç—Ä–æ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞) |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ | –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ |

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –õ–æ–≥–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
```
[Log] üîÑ –ù–ê–ß–ò–ù–ê–ï–ú –≠–¢–ê–ü 5: –ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø—Ä–∞–≤ –∏–∑ 12 —á–∞–Ω–∫–æ–≤
[Log]   ‚úÖ –ß–∞–Ω–∫ 1: –ø–æ–∫—É–ø–∞—Ç–µ–ª—å 2, –ø–æ—Å—Ç–∞–≤—â–∏–∫ 1
[Log]   ‚úÖ –ß–∞–Ω–∫ 2: –ø–æ–∫—É–ø–∞—Ç–µ–ª—å 1, –ø–æ—Å—Ç–∞–≤—â–∏–∫ 3
[Log]   ‚úÖ –ß–∞–Ω–∫ 3: –ø–æ–∫—É–ø–∞—Ç–µ–ª—å 0, –ø–æ—Å—Ç–∞–≤—â–∏–∫ 2
[Log] üìä –ò—Ç–æ–≥–æ –ø—Ä–∞–≤: –ø–æ–∫—É–ø–∞—Ç–µ–ª—å 8, –ø–æ—Å—Ç–∞–≤—â–∏–∫ 12
[Log] ‚úÖ –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –Ω–∞–π–¥–µ–Ω–æ 1 –¥–∏—Å–±–∞–ª–∞–Ω—Å–æ–≤
[Log] ‚úÖ –≠–¢–ê–ü 5 –ó–ê–í–ï–†–®–ï–ù: –ù–∞–π–¥–µ–Ω–æ –¥–∏—Å–±–∞–ª–∞–Ω—Å–æ–≤ –ø—Ä–∞–≤: 1
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞:
```json
{
  "rightsImbalance": [
    {
      "id": "imbalance_1",
      "type": "general_rights",
      "description": "–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏—Å–±–∞–ª–∞–Ω—Å –ø—Ä–∞–≤ –≤ –ø–æ–ª—å–∑—É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞. –ü–æ–∫—É–ø–∞—Ç–µ–ª—å: 8 –ø—Ä–∞–≤ (40%), –ü–æ—Å—Ç–∞–≤—â–∏–∫: 12 –ø—Ä–∞–≤ (60%).",
      "severity": "medium",
      "recommendation": "–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∞ —Å—Ç–æ—Ä–æ–Ω, –¥–æ–±–∞–≤–∏–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è."
    }
  ],
  "overallConclusion": "–û–±–Ω–∞—Ä—É–∂–µ–Ω –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏—Å–±–∞–ª–∞–Ω—Å –ø—Ä–∞–≤ –≤ –ø–æ–ª—å–∑—É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞. –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: 40% –∫ 60%."
}
```

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã
- `client/src/lib/gemini.ts`:
  - –°—Ç—Ä–æ–∫–∏ 544-552: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è `chunkRightsAnalysis` –≤ –ø—Ä–æ–º–ø—Ç `analyzeChunk`
  - –°—Ç—Ä–æ–∫–∏ 555-563: –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI –ø–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é —Å–µ–∫—Ü–∏–∏ –ø—Ä–∞–≤
  - –°—Ç—Ä–æ–∫–∏ 2053-2125: –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `aggregateAndAnalyzeRights`
  - –°—Ç—Ä–æ–∫–∏ 2598-2609: –ó–∞–º–µ–Ω–∞ —ç—Ç–∞–ø–∞ 5 –Ω–∞ –Ω–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**, –∫–æ—Ç–æ—Ä–æ–µ:
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é AI —Ä–∞–±–æ—Ç—É
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ API –∑–∞–ø—Ä–æ—Å–æ–≤
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –∞–Ω–∞–ª–∏–∑–∞

–≠—Ç–æ **—Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞ 99.9% —Å–ª—É—á–∞–µ–≤.